{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="container-fluid bg-dark">
    <div class="row p-3">
        <div class="col-12 col-lg-3 py-3 px-2 my-3 sidebar animation d-none d-lg-block">
            <h3>Filter</h3>
            <form method="post" action="{% url 'search_result_update' %}">
                {% csrf_token %}
                <div class="form-group pb-3">
                    <label for="id_pick_up_location"><small>Pick-up Location</small></label>
                    {% render_field form.pick_up_location class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_drop_off_location"><small>Drop-off Location</small></label>
                    {% render_field form.drop_off_location class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_pick_up_date"><small>Pick-up Date</small></label>
                    {% render_field form.pick_up_date class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_pick_up_time"><small>Pick-up Time</small></label>
                    {% render_field form.pick_up_time class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_drop_off_date"><small>Drop-off Date</small></label>
                    {% render_field form.drop_off_date class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_drop_off_time"><small>Drop-off Time</small></label>
                    {% render_field form.drop_off_time class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_category"><small>Category</small></label>
                    {% render_field form.category class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_fuel"><small>Fuel Type</small></label>
                    {% render_field form.fuel class="form-control" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_gear_box"><small>Number of seats</small></label>
                    {% render_field form.seats class="form-control" placeholder="Select Number of seats" %}
                </div>
                <div class="form-group pb-3">
                    <label for="id_gear_box"><small>Gear-Box Type</small></label>
                    {% render_field form.gear_box class="form-control" %}
                </div>
                <small class="text-danger">{{ form.non_field_errors }}</small>
                <div class=" col-12 d-flex justify-content-end">
                    <button type="submit" class="btn button-2">Filter</button>
                </div>
            </form>
        </div>
        <div class=" col-12 col-lg-3 d-block d-lg-none py-3 px-2 my-3">
            <div class="bg-black p-3 text-center filter-trigger">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#toggleDiv"
                    aria-controls="toggleDiv" aria-expanded="false" aria-label="Toggle navigation">
                    Filter <i class="fa-solid fa-list-check"></i>
                </button>
            </div>

            <div class="collapse navbar-collapse" id="toggleDiv">
                <form method="post" action="{% url 'search_result_update' %}">
                    {% csrf_token %}
                    <div class="row py-3">
                        <div class="col-12 col-sm-6 form-group pb-3">
                            <label for="id_pick_up_location"><small>Pick-up Location</small></label>
                            {% render_field form.pick_up_location class="form-control" %}
                        </div>
                        <div class="col-12 col-sm-6 form-group pb-3">
                            <label for="id_drop_off_location"><small>Drop-off Location</small></label>
                            {% render_field form.drop_off_location class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3 form-group pb-3">
                            <label for="id_pick_up_date"><small>Pick-up Date</small></label>
                            {% render_field form.pick_up_date class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3 form-group pb-3">
                            <label for="id_pick_up_time"><small>Pick-up Time</small></label>
                            {% render_field form.pick_up_time class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3 form-group pb-3">
                            <label for="id_drop_off_date"><small>Drop-off Date</small></label>
                            {% render_field form.drop_off_date class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3 form-group pb-3">
                            <label for="id_drop_off_time"><small>Drop-off Time</small></label>
                            {% render_field form.drop_off_time class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3  form-group pb-3">
                            <label for="id_category"><small>Category</small></label>
                            {% render_field form.category class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3  form-group pb-3">
                            <label for="id_fuel"><small>Fuel Type</small></label>
                            {% render_field form.fuel class="form-control" %}
                        </div>
                        <div class="col-6 col-md-3  form-group pb-3">
                            <label for="id_gear_box"><small>Number of seats</small></label>
                            {% render_field form.seats class="form-control" %}
                        </div>
                        <div class="col-6 col-sm-6 col-md-3  form-group pb-3">
                            <label for="id_gear_box"><small>Gear-Box Type</small></label>
                            {% render_field form.gear_box class="form-control" %}
                        </div>
                    </div>
                    <small class="text-danger">{{ form.non_field_errors }}</small>
                    <div class=" col-12 d-flex justify-content-end">
                        <button type="submit" class="btn button-2">Filter</button>
                    </div>

                </form>
            </div>
        </div>
        {% include "include/update_search.html" %}
    </div>
</div>
{% endblock %}

{% block postloadjs %}
<script>
    // fade in animation when the page loads
    document.addEventListener("DOMContentLoaded", function () {
        var animation = document.querySelector('.animation');
        var animation1 = document.querySelector('.animation1');
        animation.classList.add('fade-in');
        animation1.classList.add('fade-in');
    });

    // brand logo carousel- duplicate logos
    var copy = document.querySelector(".logos-slide").cloneNode(true);
    document.querySelector(".logos").appendChild(copy);

</script>
{% endblock %}